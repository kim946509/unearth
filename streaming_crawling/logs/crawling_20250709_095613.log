2025-07-09 09:56:13,460 - __main__ - INFO - 🚀 전체 크롤링 프로세스 시작
2025-07-09 09:56:13,460 - __main__ - INFO - 📅 크롤링 대상 날짜: 2025-07-09
2025-07-09 09:56:13,460 - __main__ - INFO - ⏰ 시작 시간: 2025-07-09 09:56:13
2025-07-09 09:56:13,460 - crawling_view.controller.crawling_manager - INFO - 🚀 크롤링 프로세스 시작
2025-07-09 09:56:13,461 - crawling_view.controller.crawling_manager - INFO - 📋 1단계: 크롤링 대상 노래 조회
2025-07-09 09:56:13,461 - crawling_view.data.song_service - INFO - 📅 기준 날짜: 2025-07-09
2025-07-09 09:56:17,536 - crawling_view.controller.crawling_manager - ERROR - ❌ 크롤링 프로세스 실패: (2002, "Can't connect to server on 'localhost' (10061)")
Traceback (most recent call last):
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\backends\base\base.py", line 288, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\backends\base\base.py", line 269, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\backends\mysql\base.py", line 247, in get_new_connection
    connection = Database.connect(**conn_params)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
MySQLdb.OperationalError: (2002, "Can't connect to server on 'localhost' (10061)")

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\crawling_view\controller\crawling_manager.py", line 34, in run_crawling
    active_songs = SongService.get_active_songs(target_date)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\crawling_view\data\song_service.py", line 39, in get_active_songs
    logger.info(f"🔍 활성 크롤링 기간에 포함된 song_id 개수: {len(active_periods)}")
                                                              ~~~^^^^^^^^^^^^^^^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\models\query.py", line 380, in __len__
    self._fetch_all()
    ~~~~~~~~~~~~~~~^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\models\query.py", line 1881, in _fetch_all
    self._result_cache = list(self._iterable_class(self))
                         ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\models\query.py", line 285, in __iter__
    for row in compiler.results_iter(
               ~~~~~~~~~~~~~~~~~~~~~^
        chunked_fetch=self.chunked_fetch, chunk_size=self.chunk_size
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    ):
    ^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\models\sql\compiler.py", line 1513, in results_iter
    results = self.execute_sql(
        MULTI, chunked_fetch=chunked_fetch, chunk_size=chunk_size
    )
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\models\sql\compiler.py", line 1560, in execute_sql
    cursor = self.connection.cursor()
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\backends\base\base.py", line 329, in cursor
    return self._cursor()
           ~~~~~~~~~~~~^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\backends\base\base.py", line 305, in _cursor
    self.ensure_connection()
    ~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\backends\base\base.py", line 287, in ensure_connection
    with self.wrap_database_errors:
         ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\utils.py", line 91, in __exit__
    raise dj_exc_value.with_traceback(traceback) from exc_value
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\backends\base\base.py", line 288, in ensure_connection
    self.connect()
    ~~~~~~~~~~~~^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\backends\base\base.py", line 269, in connect
    self.connection = self.get_new_connection(conn_params)
                      ~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\utils\asyncio.py", line 26, in inner
    return func(*args, **kwargs)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\django\db\backends\mysql\base.py", line 247, in get_new_connection
    connection = Database.connect(**conn_params)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\MySQLdb\__init__.py", line 121, in Connect
    return Connection(*args, **kwargs)
  File "C:\Users\kim94\workspace\source\rhoonart\streaming_crawling\env\Lib\site-packages\MySQLdb\connections.py", line 200, in __init__
    super().__init__(*args, **kwargs2)
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
django.db.utils.OperationalError: (2002, "Can't connect to server on 'localhost' (10061)")
2025-07-09 09:56:17,631 - __main__ - INFO - ================================================================================
2025-07-09 09:56:17,631 - __main__ - INFO - 📊 크롤링 결과 상세 분석
2025-07-09 09:56:17,631 - __main__ - INFO - ================================================================================
2025-07-09 09:56:17,631 - __main__ - INFO - 📅 대상 날짜: None
2025-07-09 09:56:17,631 - __main__ - INFO - ⏰ 시작 시간: 2025-07-09 09:56:13
2025-07-09 09:56:17,632 - __main__ - INFO - ⏰ 종료 시간: 2025-07-09 09:56:17
2025-07-09 09:56:17,632 - __main__ - INFO - ⏱️  총 실행 시간: 4.17초 (0.07분)
2025-07-09 09:56:17,632 - __main__ - ERROR - ❌ 크롤링 실패: 알 수 없는 오류
2025-07-09 09:56:17,632 - __main__ - INFO - ================================================================================
